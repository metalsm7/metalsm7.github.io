"use strict";var __spreadArray=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,l=t.length;o<l;o++)!n&&o in t||((n=n||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},Hacci=function(){function m(e){var l=this;if(void 0===e&&(e=null),this._id=null,this._el=null,this._refs={},this._traces={model:{value:{},listen:null,listen_array:null},elements:[],txts:[],fors:[]},this._txts_mstr=null,this._event_listeners=[],this._on={created:null,mounted:null,destroyed:null},this._toi_input=["email","hidden","number","password","search","tel","url","datetime","text","textarea"],this._toi_check=["radio","checkbox"],this._toi_select=["select-one","select-multiple"],this._bus={},this._tick={limit:50,timeout:null,targets:[]},(e=e||{id:null,el:null,template:null,style:null,data:null,computed:null,method:null,created:null,mounted:null,destroyed:null}).id||(e.id=this.createInstanceId()),!new RegExp(/^[a-zA-Z_][0-9a-zA-Z_-]+$/).test(e.id))throw new Error("id format is invalid");this._id=e.id,m.instances[this._id]=this,e.el&&(this._el=e.el);var t="replace";if(e.template&&"string"==typeof e.template&&(this._template=e.template),e.template&&"object"==typeof e.template&&(e.template.html&&(this._template=e.template.html),e.template.mode&&(t=e.template.mode)),e.data)for(var r=Object.keys(e.data),n=0;n<r.length;n++)this[r[n]]=e.data[r[n]],this.redefineModel(r[n]);if(e.computed)for(var o=Object.keys(e.computed),n=0;n<o.length;n++)this[o[n]]=e.computed[o[n]].bind(this);if(e.method)for(var s=Object.keys(e.method),n=0;n<s.length;n++)this[s[n]]=e.method[s[n]].bind(this);e.created&&(this._on.created=e.created.bind(this)),e.mounted&&(this._on.mounted=e.mounted.bind(this)),e.destroyed&&(this._on.destroyed=e.destroyed.bind(this));var i,a,c="__hacci_".concat(this._id);if("string"==typeof e.style&&(i=(i=(i=e.style.replace(/\r?\n\s*/g,"")).replace(/(\s*)([{;}])(\s*)/g,"$2")).replace(/([^{\s]*)(\s*)([^{]*)({[^}]*})/g,".".concat(c," $1$2$3$4"))+i.replace(/([^{\s]*)(\s*)([^{]*)({[^}]*})/g,"$1.".concat(c,"$2$3$4")),(a=window.document.createElement("style")).textContent=i,window.document.head.appendChild(a)),this._template){if("attach"===t)this.el.innerHTML=this._template,this.el.classList.contains(c)||this.el.classList.add(c);else if("replace"===t){var d=window.document.createElement("div");if(d.innerHTML=this._template,d=0<d.children.length?d.children.item(0):null){for(var h=this.el.attributes,n=0;n<h.length;n++){var u=h[n];d.hasAttribute(u.name)||d.setAttribute(u.name,u.value)}for(var p=this.el.classList,_=d.classList,n=0;n<p.length;n++){var f=p.item(n);_.contains(f)||_.add(f)}this.el.parentNode.insertBefore(d,this.el),d.parentNode.removeChild(this.el),this._el=d,this.el.classList.contains(c)||this.el.classList.add(c)}else this.el.innerHTML=this._template,this.el.classList.contains(c)||this.el.classList.add(c)}}else this.el.classList.contains(c)||this.el.classList.add(c);new MutationObserver(function(e,t){for(var r=0,n=e;r<n.length;r++){var o=n[r];"childList"!==o.type||(o=o.removedNodes)&&0<o.length&&o[0]===l.el&&(t.disconnect(),l.clearEventListeners(),l.destroy())}}).observe(this.el.parentElement,{attributes:!1,childList:!0,subtree:!1}),this._on&&this._on.created&&this._on.created()}return Object.defineProperty(m,"instances",{get:function(){return m._instances},enumerable:!1,configurable:!0}),m.prototype.init=function(){var e=this;if(!e._txts_mstr){e._txts_mstr="";for(var t=Object.keys(e),r=0;r<t.length;r++)1<t[r].length&&"_"===t[r].charAt(0)||(e._txts_mstr+="var ".concat(t[r],"=this.").concat(t[r],";\n"))}this.searchNodes(e.el),this.searchTextNodes(e.el),this.initModel(),this._on&&this._on.mounted&&this._on.mounted()},m.prototype.procForNodes=function(e){function t(e){for(var t=e.attributes,r=0;r<t.length;r++){var n,o=t.item(r);/^hc:for$/.test(o.name)&&(l._traces.fors.indexOf(e)<0&&l._traces.fors.push(e),n=window.document.createComment("//hc-for:".concat(l._id,":").concat(l.createTagId())),e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),e._hc||(e._hc={attr:{},comment:null,for_comment:null,for_elements:[],for_txts:[],for_model:null,model_str:null}),e._hc.attr.for=o.value,e._hc.for_comment=n,n=function(e,t){void 0===t&&(t=null);e=new Function("".concat(l._txts_mstr).concat(t||"","return ").concat(e,";")).apply(l);return e="function"==typeof e?e():e}(String(e._hc.attr.for).replace(/(\(.*\)|.+)\s+(in)\s+/g,"").replace(/\s/g,"")),e._hc.for_model=n,Array.isArray(n)&&l.arrayEventListener(n))}}var l=this,r=(e=(e=void 0===e?null:e)||l.el).querySelectorAll("*");t(e);for(var n=0;n<r.length;n++)t(r.item(n));l.procForModel()},m.prototype.searchNodes=function(e){var t=this;t.procForNodes(e),t.procNode(e),t.procNode(e.querySelectorAll("*"))},m.prototype.procNode=function(o,l){void 0===l&&(l=null);function s(e,t){return new Function("this.".concat(e,"=arguments[0];(Array.isArray(this.").concat(e,") && this.arrayEventListener(this.").concat(e,"));")).apply(i,[t])}var i=this;if(o instanceof NodeList)for(var e=0;e<o.length;e++)i.procNode(o.item(e),l);else for(var a,c=o.attributes,t=function(e){var n=c.item(e);if(!/^hc:.+$/.test(n.name))return a=e,"continue";var t,r=n.name.substring(3);if("for"===r)return o.hasAttribute(n.name)&&(o.removeAttribute(n.name),--e),a=e,"continue";if("ref"===r)return(i._refs[n.value]=o).hasAttribute(n.name)&&(o.removeAttribute(n.name),--e),a=e,"continue";switch((!l||l&&!l._hc)&&i._traces.elements.indexOf(o)<0&&i._traces.elements.push(o),o._hc||(o._hc={attr:{},comment:null,for:null}),"neither"===r?o._hc.attr.if="!(".concat(n.value,")"):o._hc.attr[r]=n.value,"model"===r&&(t=function(e,t){void 0===t&&(t=null);e=new Function("".concat(i._txts_mstr).concat(t||"","return ").concat(e,";")).apply(i);return e="function"==typeof e?e():e}(n.value,l&&l._hc&&l._hc.model_str?l._hc.model_str:null),Array.isArray(t)&&i.arrayEventListener(t),"INPUT"===o.tagName&&-1<["radio","checkbox"].indexOf(o.type)&&o.addEventListener("change",function(e){var t=null;"radio"===o.type&&(t=o.checked?o.value:null),"checkbox"===o.type&&(t=o.checked?o.value:o.hasAttribute("name")?[]:null);var r=o.hasAttribute("name")?o.getAttribute("name"):null;t=r?(r=l.querySelectorAll("*[name=".concat(r,"]")),i.getCheckedValue(r,"checkbox"===o.type)):o.checked?o.value:null,o["_hc:force_apply"]=!0,s(n.value,t)}),"SELECT"===o.tagName&&-1<["select-one","select-multiple"].indexOf(o.type)&&o.addEventListener("change",function(e){o.type;var t=o.querySelectorAll("option"),r=i.getSelectedValue(t,"select-multiple"===o.type);o["_hc:force_apply"]=!0,s(n.value,r)}),-1<["INPUT","TEXTAREA"].indexOf(o.tagName)&&-1<["email","hidden","number","password","search","tel","url","datetime","text","textarea"].indexOf(o.type)&&o.addEventListener("input",function(e){o["_hc:force_apply"]=!0,s(n.value,o.value)})),r){case"scroll.hit.top":case"scroll.hit.bottom":i.registEventListener(o,"scroll",n,function(e){(-1<n.name.indexOf("bottom")?i.scrollTop(o)+i.innerHeight(o)>=i.scrollHeight(o):i.scrollTop(o)<=0)&&function(e,t){void 0===t&&(t=null);var r=e;e.indexOf("(")<0&&(r+="()");r=r.replace(/;$/,"");new Function("".concat(i._txts_mstr).concat(t||"","return ").concat(r,";")).apply(i)}(n.value,l&&l._hc&&l._hc.model_str?l._hc.model_str:null)});break;case"input":case"change":break;default:void 0!==window["on".concat(r)]&&i.registEventListener(o,r,n,null,l&&l._hc&&l._hc.model_str?l._hc.model_str:null)}o.hasAttribute(n.name)&&(o.removeAttribute(n.name),--e),a=e},e=0;e<c.length;e++)t(e),e=a},m.prototype.redefineModel=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null),e=e.replace(/([\.]__|^__)([^\.]+)/,"$2");var l=this;l._traces.model.listen||(l._traces.model.listen=function(e,t){l.procModel(),Array.isArray(t)&&l.procForModel(t)}),l._traces.model.listen_array||(l._traces.model.listen_array=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];l.procModel(),l.procForModel.apply(l,__spreadArray([e,t],r,!1))}),t=t||l;var s=l._traces.model.value,i=(r?"".concat(r,".__"):"__").concat(e);void 0===s[i]&&(s[i]=t[e]);var n=t[e];if(Object.defineProperty(t,e,{get:function(){return s[i]},set:function(e){s[i]=e;e=Array.isArray(s[i]);if(e&&l.arrayEventListener(s[i]),l._traces.model.listen(i,s[i]),e)l.redefineModel(i);else for(var t=i.split("."),r="",n=0;n<t.length;n++){r+="".concat(0<n?".":"").concat(t[n]);var o=s[r];Array.isArray(o)&&(l.procForModel(o,"_replace",s["".concat(r,".").concat(t[n+1])]),l.redefineModel(r))}l.applyTextChange()}}),n instanceof Object&&-1<["object"].indexOf(typeof n))for(var o=Object.keys(n),a=0;a<o.length;a++){var c=o[a];this.redefineModel(c,n,i)}},m.prototype.procForModel=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];for(var o=this,l=function(e,t){var r="",n=String(e).replace(/(\(.*\)|.+)\s+(in)\s+/g,"").replace(/\s/g,""),e=String(e).replace(/\s+in\s+.*$/,"").replace(/\s/g,"");if("("===e.charAt(0))for(var o=e.substring(1,e.length-1).split(","),l=0;l<o.length;l++)r+="var ".concat(o[l],"=").concat(n,"[").concat(t,"]['").concat(o[l],"'];\n");else r="var ".concat(e,"=").concat(n,"[").concat(t,"];\n");return r},s=function(e,t){o.procNode(e,t),o.procNode(e.querySelectorAll("*"),t),o.procTextNode(e,t),o.procTextModel(t),o.procModel(e,t),o.procModel(e.querySelectorAll("*"),t)},i=0;i<o._traces.fors.length;i++){var a=o._traces.fors[i],c=a._hc;e&&e!==c.for_model&&(c.for_model=e,t=null);var d=c.for_model,h=c.for_comment.parentNode;delete c.for_txts,c.for_txts=[];var u=!0,p=null;switch(t){case"push":p=[];break;case"pop":p=c.for_elements.splice(c.for_elements.length-1,1);break;case"shift":p=c.for_elements.splice(0,1);break;case"splice":p=c.for_elements.splice(r[0]||null,r[1]||null);break;case"_replace":u=!1}if(p){for(;0<p.length;)h.removeChild(p[0]),p.splice(0,1);u=!1}for(;u&&0<c.for_elements.length;)h.removeChild(c.for_elements[0]),c.for_elements.splice(0,1);if(!(t&&-1<["pop","shift"].indexOf(t)))if(t&&"_replace"===t)for(var _=0;_<d.length;_++)d[_]===r[0]&&(c.model_str=l(c.attr.for,_),s(v=a.cloneNode(!0),a),(o.replaceAttributes(c.for_elements[_],v)||o.replaceTextNodes(c.for_elements[_],v))&&(h.insertBefore(v,c.for_elements[_]),h.removeChild(c.for_elements[_]),c.for_elements[_]=v));else if(t&&"push"===t)for(_=d.length-r.length;_<d.length;_++)c.model_str=l(c.attr.for,_),s(y=a.cloneNode(!0),a),h.appendChild(y),c.for_elements.push(y);else if(t&&"splice"===t)for(var f=r[0],_=f;_<f+r.length-2;_++)c.model_str=l(c.attr.for,_),s(y=a.cloneNode(!0),a),c.for_elements.length<=_?h.appendChild(y):h.insertBefore(y,c.for_elements[_]),c.for_elements.splice(_,0,y);else for(_=0;_<d.length;_++){var m,v,y=null;try{y=c.for_elements[_]}catch(e){}c.model_str=l(c.attr.for,_),void 0===y?(y=a.cloneNode(!0),0<(m=c.for_elements.length)&&c.for_elements[m-1].nextElementSibling?h.insertBefore(y,c.for_elements[m-1].nextElementSibling):h.appendChild(y),c.for_elements.push(y),s(y,a)):(s(v=a.cloneNode(!0),a),c.for_elements[_]=v,h.insertBefore(v,y),h.removeChild(y))}}},m.prototype.initModel=function(){this.procModel(null,null,null,!0)},m.prototype.procModel=function(e,t,r,n){void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=!1);function o(e,t){return void 0===t&&(t=null),e="function"==typeof(e=new Function("".concat(s._txts_mstr).concat(t||"","return ").concat(e,";")).apply(s))?e():e}function l(e,t){void 0===t&&(t=null);var r=e;return e.indexOf("(")<0&&(r+="()"),r=r.replace(/;$/,""),new Function("".concat(s._txts_mstr).concat(t||"","return ").concat(r,";")).apply(s)}var s=this;if((e=(e=void 0===e?null:e)||s._traces.elements)instanceof NodeList||Array.isArray(e)){r=r||[];for(var i=0;i<e.length;i++)s.procModel(e[i],t,r,n)}else if(e._hc){var a,c,d,h,u=e._hc,p=Object.keys(u.attr);u.attr.if&&(!0===(f=o(u.attr.if,t&&t._hc&&t._hc.model_str?t._hc.model_str:null))&&u.comment?(u.comment.parentNode.insertBefore(e,u.comment),u.comment.parentNode.removeChild(u.comment),delete u.comment,u.comment=null):!1!==f||u.comment||(u.comment=window.document.createComment("//hc:".concat(s._id,":").concat(s.createTagId())),e.parentNode.insertBefore(u.comment,e),e.parentNode.removeChild(e)),p.splice(p.indexOf("if"),1)),u.attr.class&&(f=o(u.attr.class,t&&t._hc&&t._hc.model_str?t._hc.model_str:null),e.className=f,p.splice(p.indexOf("class"),1)),u.attr.html&&(f=o(u.attr.html,t&&t._hc&&t._hc.model_str?t._hc.model_str:null),e.innerHTML=f,p.splice(p.indexOf("html"),1)),u.attr.text&&(f=o(u.attr.text,t&&t._hc&&t._hc.model_str?t._hc.model_str:null),e.innerText=f,p.splice(p.indexOf("text"),1)),u.attr.model&&(f=o(u.attr.model,t&&t._hc&&t._hc.model_str?t._hc.model_str:null),"INPUT"===e.tagName&&-1<s._toi_check.indexOf(e.type)?(d=!1,(a=e.hasAttribute("name")?e.getAttribute("name"):null)?r.indexOf(a)<0&&(r.push(a),c=s.el.querySelectorAll("*[name=".concat(a,"]")),h=s.setCheckedValue(c,f),d=u.attr.change&&h):(a=e.checked,e.checked=e.value==f,d=e.checked!=a),!d&&e["_hc:force_apply"]&&(d=!0,delete e["_hc:force_apply"]),!n&&d&&u.attr.change&&l(u.attr.change,t&&t._hc&&t._hc.model_str?t._hc.model_str:null)):"SELECT"===e.tagName&&-1<s._toi_select.indexOf(e.type)?(d=!1,c=e.querySelectorAll("option"),h=s.setSelectedValue(c,f),!(d=u.attr.change&&h)&&e["_hc:force_apply"]&&(d=!0,delete e["_hc:force_apply"]),!n&&d&&u.attr.change&&l(u.attr.change,t&&t._hc&&t._hc.model_str?t._hc.model_str:null)):-1<["INPUT","TEXTAREA"].indexOf(e.tagName)&&-1<s._toi_input.indexOf(e.type)&&(d=!1,h=e.value!=f,e.value=f,!(d=u.attr.input&&h)&&e["_hc:force_apply"]&&(d=!0,delete e["_hc:force_apply"]),!n&&d&&u.attr.input&&l(u.attr.input,t&&t._hc&&t._hc.model_str?t._hc.model_str:null)),p.splice(p.indexOf("model"),1));for(var _=new RegExp(/^on/),i=0;i<p.length;i++){var f,m=p[i];_.test(m)||void 0===window["on".concat(m)]&&(-1<m.indexOf(".")&&void 0!==window["on".concat(m.split(".")[0])]||(f=o(u.attr[m],t&&t._hc&&t._hc.model_str?t._hc.model_str:null),e[m]=f))}}},m.prototype.arrayEventListener=function(o){var l=this;o.push=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(e=Array.prototype.push).call.apply(e,__spreadArray([o],t,!1));return(e=l._traces.model).listen_array.apply(e,__spreadArray([o,"push"],t,!1)),n},o.pop=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(e=Array.prototype.pop).call.apply(e,__spreadArray([o],t,!1));return(e=l._traces.model).listen_array.apply(e,__spreadArray([o,"pop"],t,!1)),n},o.splice=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(e=Array.prototype.splice).call.apply(e,__spreadArray([o],t,!1));return(e=l._traces.model).listen_array.apply(e,__spreadArray([o,"splice"],t,!1)),n},o.shift=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(e=Array.prototype.shift).call.apply(e,__spreadArray([o],t,!1));return(e=l._traces.model).listen_array.apply(e,__spreadArray([o,"shift"],t,!1)),n},o.unshift=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(e=Array.prototype.unshift).call.apply(e,__spreadArray([o],t,!1));return(e=l._traces.model).listen_array.apply(e,__spreadArray([o,"splice",0,0],t,!1)),n}},m.prototype.registEventListener=function(e,t,r,n,o){void 0===o&&(o=null);var l=this;e.addEventListener(t,n=(n=void 0===n?null:n)||function(e){!function(e,t,r){void 0===r&&(r=null);var n=t;t.indexOf("(")<0&&(n+="(_event)");n=n.replace(/;$/,"");new Function("".concat(l._txts_mstr).concat(r||"").concat("try{ var _event=arguments[0]; } catch(e) { _event=arguments[0]; }\n","return ").concat(n,";")).apply(l,[e])}(e,r.value,o)}),this._event_listeners.push({el:e,name:t,listener:n})},m.prototype.clearEventListeners=function(){for(var e=0;e<this._event_listeners.length;e++){var t=this._event_listeners[e];t.el.removeEventListener(t.name,t.listener)}this._event_listeners=[]},m.prototype.searchTextNodes=function(e,t){if(void 0===t&&(t=null),(e=e||this.el).hasChildNodes()){for(var r=0;r<e.childNodes.length;r++)switch(e.childNodes[r].nodeType){case 1:this.searchTextNodes(e.childNodes[r],t);break;case 3:/{{([^}}\r\n]+)?}}/g.test(e.childNodes[r].textContent)&&!t&&this._traces.txts.push({node:e.childNodes[r],text:e.childNodes[r].textContent,fn:null}),/{{([^}}\r\n]+)?}}/g.test(e.childNodes[r].textContent)&&t&&t._hc&&t._hc.for_txts&&t._hc.for_txts.push({node:e.childNodes[r],text:e.childNodes[r].textContent,fn:null})}this.applyTextChange()}},m.prototype.procTextNode=function(e,t){if(void 0===t&&(t=null),(e=e||this.el).hasChildNodes())for(var r=0;r<e.childNodes.length;r++)switch(e.childNodes[r].nodeType){case 1:this.procTextNode(e.childNodes[r],t);break;case 3:!t&&/{{([^}}\r\n]+)?}}/g.test(e.childNodes[r].textContent)&&this._traces.txts.push({node:e.childNodes[r],text:e.childNodes[r].textContent,fn:null}),t&&/{{([^}}\r\n]+)?}}/g.test(e.childNodes[r].textContent)&&t._hc&&t._hc.for_txts&&t._hc.for_txts.push({node:e.childNodes[r],text:e.childNodes[r].textContent,fn:null})}},m.prototype.applyTextChange=function(e){for(var t=(e=void 0===e?null:e)||this._traces.txts,r=0;r<t.length;r++)t[r].fn||(t[r].fn=this.compileText(t[r].text)),t[r].node.textContent=t[r].fn.apply(this)},m.prototype.procTextModel=function(e){for(var t=(e=void 0===e?null:e)?e._hc&&e._hc.for_txts?e._hc.for_txts:e:this._traces.txts,r=0;r<t.length;r++)t[r].fn||(t[r].fn=this.compileText(t[r].text,e&&e._hc&&e._hc.model_str?e._hc.model_str:null)),t[r].node.textContent=t[r].fn.apply(this)},m.prototype.compileText=function(e,t){if(void 0===t&&(t=null),!this._txts_mstr){this._txts_mstr="";for(var r=Object.keys(this),n=0;n<r.length;n++)1<r[n].length&&"_"===r[n].charAt(0)||(this._txts_mstr+="var ".concat(r[n],"=this.").concat(r[n],";\n"))}for(var o,l=/{{([^}}]+)?}}/g,s=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,i=this._txts_mstr+(t||"")+"var r=[];\n",a=0,c=function(e,t){return i+=(t=void 0===t?null:t)?e.match(s)?e+"\n":"r.push("+e+");\n":""!=e?'r.push("'+e.replace(/"/g,'\\"')+'");\n':"",c};o=l.exec(e);)c(e.slice(a,o.index))(o[1],!0),a=o.index+o[0].length;return c(e.substr(a,e.length-a)),i+='return r.join("");',new Function(i.replace(/[\r\t\n]/g,""))},m.prototype.replaceAttributes=function(e,t){var r=!1,n=e.attributes;if(n)for(var o=0;o<n.length;o++){var l=n.item(o),s=t.attributes.getNamedItem(l.name);s.value!==l.value&&(l.value=s.value)}if(r=r||e.hasChildNodes()!=t.hasChildNodes(),e.hasChildNodes()){for(o=0;o<e.childNodes.length;o++)t.hasChildNodes()&&t.childNodes[o]&&(r=this.replaceAttributes(e.childNodes[o],t.childNodes[o]));r=r||t.hasChildNodes()&&e.childNodes.length!=t.childNodes.length}return r},m.prototype.replaceTextNodes=function(e,t){var r=(r=!1)||e.hasChildNodes()!=t.hasChildNodes();if(e.hasChildNodes()){for(var n=0;n<e.childNodes.length;n++)switch(e.childNodes[n].nodeType){case 1:t.hasChildNodes()&&t.childNodes[n]&&(r=this.replaceTextNodes(e.childNodes[n],t.childNodes[n]));break;case 3:t.hasChildNodes()&&t.childNodes[n]&&e.childNodes[n].textContent!==t.childNodes[n].textContent&&(e.childNodes[n].textContent=t.childNodes[n].textContent)}r=r||t.hasChildNodes()&&e.childNodes.length!=t.childNodes.length}return r},m.prototype.scrollHeight=function(e){return 9===e.nodeType?Number(window.document.documentElement.scrollHeight):Number(e.scrollHeight)},m.prototype.scrollTop=function(e){e=9===e.nodeType?window.pageYOffset:e.scrollTop;return Math.ceil(e)},m.prototype.innerHeight=function(e){e=9===e.nodeType?Number(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight)):Number(e.clientHeight);return Math.ceil(e)},m.prototype.refresh=function(){this.clearData(),this.init()},m.prototype.clearData=function(){for(var e=new RegExp(/^__hc\.(v_.+|lstn$|refs$)/),t=Object.keys(this),r=0;r<t.length;r++)e.test(t[r])&&delete this[t[r]]},m.prototype.getRandomString=function(e){for(var t="",r=0;r<e;r++){var n=Math.floor(51*Math.random());t+=String.fromCharCode(n+(n<26?65:71))}return t},m.prototype.createInstanceId=function(){return this.getRandomString(8)+"_"+Date.now()},m.prototype.createTagId=function(){return"".concat(this.getRandomString(6),"_").concat(Date.now())},m.prototype.isArrowFunc=function(e){return void 0===e.prototype},m.prototype.fromArrowFunc=function(e){if(this.isArrowFunc(e)){var t="return function"+("("===(t=e.toString()).substring(0,1)?"":"(")+t.replace(/\)?\s*=>.*{(.|\r|\n)*/,")")+t.replace(/^.*=>\s*{/,"{");return new Function(t)()}return e},m.prototype.getCheckedValue=function(e,t){for(var r=(t=void 0===t?!1:t)?[]:null,n=0;n<e.length;n++){var o=e[n];if(o.checked&&!t){r=o.value;break}o.checked&&t&&r.push(o.value)}return r},m.prototype.getSelectedValue=function(e,t){for(var r=(t=void 0===t?!1:t)?[]:null,n=0;n<e.length;n++){var o=e[n];if(o.selected&&!t){r=o.value;break}o.selected&&t&&r.push(o.value)}return r},m.prototype.setCheckedValue=function(e,t){for(var r=!1,n=0;n<e.length;n++){var o=e[n];if(r=!r&&(o.checked&&(Array.isArray(t)?t.indexOf(o.value)<0:t!=o.value)||!o.checked&&(Array.isArray(t)?-1<t.indexOf(o.value):t==o.value))?!0:r)break}for(n=0;n<e.length;n++)(o=e[n]).checked=Array.isArray(t)?-1<t.indexOf(o.value):t==o.value;return r},m.prototype.setSelectedValue=function(e,t){for(var r=!1,n=!1,o=0;o<e.length;o++){var l=e[o];if(!n&&l.selected&&(n=!0),r=!r&&(l.selected&&(Array.isArray(t)?t.indexOf(l.value)<0:t!=l.value)||!l.selected&&(Array.isArray(t)?-1<t.indexOf(l.value):t==l.value))?!0:r)break}for(o=0;o<e.length;o++)(l=e[o]).selected=Array.isArray(t)?-1<t.indexOf(l.value):t==l.value;return r},m.prototype.on=function(e,t){this._bus[e]||(this._bus[e]=[]),-1<this._bus[e].indexOf(t)||this._bus[e].push(t)},m.prototype.off=function(e,t){void 0===t&&(t=null),this._bus[e]&&!t?delete this._bus[e]:this._bus[e]&&t&&(-1<(t=this._bus[e].indexOf(t))&&this._bus[e].splice(t,1))},m.prototype.emit=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._bus[e])return 0;for(var o=0,l=0;l<this._bus[e].length;l++)try{(t=this._bus[e])[l].apply(t,r),o++}catch(e){}return o},m.prototype.destroy=function(){this.clearEventListeners(),delete this._refs,this._refs={},delete this._txts_mstr,this._txts_mstr="",delete this._traces.fors,this._traces.fors=[],delete this._traces.txts,this._traces.txts=[],delete this._traces.elements,this._traces.elements=[],this._template&&this.el.parentElement.removeChild(this.el),this._template=null,delete this._el,this._el=null,this._on&&this._on.destroyed&&this._on.destroyed(),delete this._on,this._on={created:null,mounted:null,destroyed:null},m.instances[this._id]&&(m.instances[this._id]=null,delete m.instances[this._id])},m.prototype.mount=function(e){return e&&(this._el=e),this.init(),this},Object.defineProperty(m.prototype,"el",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"refs",{get:function(){return this._refs},enumerable:!1,configurable:!0}),m._instances={},m}();window.Hacci=Hacci;